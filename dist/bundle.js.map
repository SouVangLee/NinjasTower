{"version":3,"sources":["webpack://NinjasCastle/./src/index.js"],"names":[],"mappings":";;;;;AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC","file":"bundle.js","sourcesContent":["// const webpack = require('webpack');\n// const Player = require(\"./assets/classes/player.js\");\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const canvas = document.getElementById(\"canvas-player\");\n  const canvasPlatform = document.getElementById(\"canvas-platform\");\n  const ctx = canvas.getContext('2d');\n  const platformCtx = canvasPlatform.getContext('2d');\n\n  canvas.width = canvasPlatform.width = 600;\n  canvas.height = canvasPlatform.height = 800;\n\n  const player = new Player();\n  const game = new Game();\n\n  // create sprite images\n  // run sprite size 73x92\n  const playerRunSprite = new Image();\n  playerRunSprite.src = \"./src/assets/images/ninja_run.png\";\n\n  //idle sprite size 46x88\n  const playerIdleSprite = new Image();\n  playerIdleSprite.src = \"./src/assets/images/ninja_idle.png\"\n\n  //jump sprite size 72x97\n  const playerJumpSprite = new Image();\n  playerJumpSprite.src = \"./src/assets/images/ninja_jump.png\"\n\n  const background = new Image();\n  background.src = \"./src/assets/images/background.png\"\n\n  const platformImg = new Image();\n  platformImg.src = \"./src/assets/images/platform.png\";\n  \n\n  //render platforms\n  function drawPlatforms() {\n      game.platforms.forEach(platform => {\n        ctx.drawImage(platformImg, platform.x, platform.y, platform.width, platform.height)\n      });\n  }\n\n  window.addEventListener(\"keydown\", (e) => {\n    const GAMEKEYS = ['ArrowRight', 'ArrowLeft', ' ']\n\n    if (GAMEKEYS.includes(e.key) && e.key !== ' ') {\n      player.KEYS[e.key] = true;\n      player.moving = true;\n      player.currentKey = e.key;\n    };\n\n    if (e.key === ' ') {\n      player.jumping = true;\n    }\n  });\n\n  window.addEventListener(\"keyup\", (e) => {\n    player.KEYS[e.key] = false;\n    player.moving = false;\n    player.jumping = false;\n  });\n\n  // set FPS rate\n  let fpsInterval, current, then, elapsed;\n\n  function startPlayerAnimation(fps) {\n    fpsInterval = 1000/fps;\n    then = Date.now();\n    animatePlayer();\n  }\n\n  function animatePlayer() {\n    requestAnimationFrame(animatePlayer);\n    current = Date.now();\n    elapsed = current - then;\n    let spriteChecker;\n\n    if (elapsed > fpsInterval) {\n      then = current - (elapsed % fpsInterval);\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      spriteChecker = playerIdleSprite;\n      ctx.drawImage(background, 0, 0, canvas.width, canvas.height);\n      drawPlatforms();\n\n      //render idle frame\n      if (!player.moving && !player.jumping) {\n        //switch idle sprite\n        if (player.currentKey === 'ArrowRight') {\n          player.frameX = 11;\n        } else {\n          player.frameX = 0;\n        }\n        player.frameY = 0;\n        player.width = 46;\n        player.height = 88;\n\n        //render moving sprite: 1 = Face Right, 0 = Face Left\n      } else if (player.moving && !player.jumping) {\n        if (player.currentKey === 'ArrowRight') {\n          player.frameY = 1;\n        } else {\n          player.frameY = 0;\n        }\n        player.width = 73;\n        player.height = 92;\n        spriteChecker = playerRunSprite;\n\n        //render jump sprite: 1 = Face Right, 0 = Face Left\n      } else {\n        if (player.currentKey === 'ArrowRight') {\n          player.frameY = 1;\n        } else {\n          player.frameY = 0;\n        }\n        player.frameX = 4;\n        player.width = 72;\n        player.height = 97;\n        spriteChecker = playerJumpSprite;\n      }\n\n      //ctx.drawImage(img, sX, sY, sW, sH, dX, dY, dW, dH);\n      ctx.drawImage(\n        spriteChecker, \n        player.width * player.frameX, \n        player.height * player.frameY, \n        player.width, \n        player.height, \n        player.x, \n        player.y, \n        player.width,\n        player.height\n      );\n\n      if (player.moving && !player.jumping) { \n        player.handleFrame();\n      }\n      player.movePlayer();\n    }\n  };\n\n  startPlayerAnimation(30);\n});\n"],"sourceRoot":""}